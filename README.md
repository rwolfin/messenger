# Месенджер WebSocket PHP

Добро пожаловать в Месенджер WebSocket PHP, современную интерактивную платформу для чата, построенную с использованием PHP, MySQL и технологии WebSocket. Этот проект позволяет пользователям участвовать в групповых и приватных чатах с мгновенными сообщениями, аутентификацией и управлением профилями. Разработано как итоговый проект Skillfactory, это приложение демонстрирует надёжный бэкенд с удобным интерфейсом.

![Скриншот приложения](/img/readme.pngchat/img/readme.png)


## Структура проекта

```bash
messenger/
├── database/              # Подключение к базе данных и модели
│   ├── Database_connection.php
│   ├── ChatUserModel.php
│   └── GroupChatMessageModel.php
├── public/                # Публичные файлы
│   ├── index.php
│   ├── group_chat.php
│   └── private_chat.php
├── vendor/                # Зависимости Composer (Ratchet, PHPMailer)
├── bin/                   # Скрипты сервера WebSocket
│   └── server.php
├── action.php             # Обработчик AJAX-запросов
├── composer.json          # Управление зависимостями
└── README.md              # Этот файл
```



## Функции

- **Мгновенные сообщения**: Поддержка через WebSocket (Ratchet) для групповых и приватных чатов в реальном времени.
- **Аутентификация пользователей**: Безопасная регистрация, вход и выход с верификацией по email.
- **Управление профилем**: Редактирование профилей с аватарами и именами пользователей.
- **Статус онлайн/офлайн**: Обновление статуса пользователей в реальном времени.
- **Уведомления о непрочитанных сообщениях**: Индикаторы для непрочитанных приватных сообщений.
- **Адаптивный дизайн**: Подходит для мобильных устройств и настольных компьютеров с использованием Bootstrap.
- **Безопасность**: Защита от SQL-инъекций (PDO), с планами по предотвращению CSRF и XSS-атак.

## Требования

Перед началом убедитесь, что у вас установлено следующее:

- PHP (7.4 или выше, рекомендуется 8.0+)
- Composer (для управления зависимостями)
- MySQL (5.5 или выше)
- Веб-сервер (например, Apache, Nginx или встроенный сервер PHP)
- Node.js (опционально, для инструментов разработки)
- Git (для клонирования репозитория)

## Установка



### 1. Клонирование репозитория

```bash
git clone https://github.com/rwolfin/messenger.git
cd messenger
```

### 2. Установка зависимостей

```bash
composer install
```

### 3. Настройка базы данных

- Создайте базу данных MySQL (например, chat_application)

- Импортируйте схему SQL (например, phpMyAdmin Export.sql) в вашу базу данных

- Обновите database/Database_connection.php с вашими учетными данными MySQL:

```php
private $host = 'localhost';
private $username = 'your_username';
private $password = 'your_password';
private $database = 'chat_application';
```


### 4. Настройка email

Для верификации по email настройте PHPMailer в ```action.php``` или файле конфигурации:

- Используйте SMTP-сервер (например, Gmail: smtp.gmail.com, порт 587, включите "Доступ для менее безопасных приложений" или используйте пароль приложения)

Пример:

```php
$mail->Host = 'smtp.gmail.com';
$mail->Username = 'your-email@gmail.com';
$mail->Password = 'your-app-password';
$mail->Port = 587;
$mail->SMTPSecure = 'tls';
```

### 5. Запуск приложения

1. Запустите сервер WebSocket в одном терминале:

```bash
php bin/server.php
```
2. Запустите встроенный сервер PHP в другом терминале:

```bash
php -S localhost:8000
```

Откройте браузер и перейдите по адресу ```http://localhost:8000```


### 6. Использование

- Регистрация: Введите ваш email, пароль и имя пользователя на странице входа для регистрации

- Верификация email: Проверьте почту для получения ссылки верификации и активируйте аккаунт

- Вход: Используйте свои учетные данные для доступа к чату

 - Чат: Выберите пользователей для приватных чатов или присоединитесь к групповому чату. Отправляйте сообщения в реальном времени

- Профиль: Редактируйте свой профиль через кнопку "Редактировать"

- Выход: Нажмите "Выход", чтобы завершить сеанс

### Благодарности

- SkillFactory за предоставление возможности реализовать этот проект

- Сообществу Ratchet за отличную библиотеку WebSocket

- Разработчикам Bootstrap за адаптивный фреймворк